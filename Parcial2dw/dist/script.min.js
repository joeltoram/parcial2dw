"use strict";var API_KEY="api_key=0cc4dd702aea5bb207422b56e5e29790",BASE_URL="https://api.themoviedb.org/3",API_URL=BASE_URL+"/discover/movie?sort_by=popularity.desc&"+API_KEY,IMG_URL="https://image.tmdb.org/t/p/w500",LANGUAGE="&language=es-ES",searchURL=BASE_URL+"/search/movie?"+API_KEY,URL="https://api.themoviedb.org/3/discover/movie?api_key=0cc4dd702aea5bb207422b56e5e29790&language=es-ES",genres=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],main=document.getElementById("main"),form=document.getElementById("form"),search=document.getElementById("search"),tagsEl=document.getElementById("tags"),select=document.getElementById("select"),selectedGenre=[];function setGenre(){tagsEl.innerHTML="",genres.forEach(function(t){var e=document.createElement("div");e.classList.add("tag"),e.id=t.id,e.innerText=t.name,e.addEventListener("click",function(){0==selectedGenre.length?selectedGenre.push(t.id):selectedGenre.includes(t.id)?selectedGenre.forEach(function(e,n){e==t.id&&selectedGenre.splice(n,1)}):selectedGenre.push(t.id),console.log(selectedGenre),getMovies(API_URL+"&with_genres="+encodeURI(selectedGenre.join(","))),highlghtSelection()}),tagsEl.append(e)})}function seleccion(){genres.forEach(function(e){var n=document.createElement("option");n.text=e.name,n.value=e.id,select.add(n)})}function getMovies(e){fetch(e).then(function(e){return e.json()}).then(function(e){console.log(e.results),showMovies(e.results)})}function showMovies(e){main.innerHTML="",e.forEach(function(e){var n=e.title,t=e.poster_path,i=e.release_date,c=e.vote_average,a=e.overview,o=document.createElement("div");o.classList.add("movie"),o.innerHTML='<img src="'.concat(IMG_URL+t,'" alt="').concat(n,'">\n        <div class="movie-info">\n            <h3>').concat(n,"</h3> \n            <h5>").concat(i,'</h5>       \n            \n            <span class="').concat(getcolor(c),'">').concat(c,'</span>\n          \n        </div>\n\n        <div class="overview">\n            <h3>Descripci√≥n</h3>\n            ').concat(a,"\n        </div>"),main.appendChild(o),console.log(searchURL)})}function highlghtSelection(){document.qquerySelectorAll(".tag").forEach(function(e){e.classList.remove("highlight")}),0!==selectedGenre.length&&selectedGenre.forEach(function(e){document.getElementById(e).classList.add("highlight")})}function getcolor(e){return 8<=e?"green":5<=e?"orange":"red"}setGenre(),seleccion(),getMovies(URL),form.addEventListener("submit",function(e){e.preventDefault();var n=search.value;getMovies(n?searchURL+"&query="+n:URL)});
//# sourceMappingURL=script.min.js.map
